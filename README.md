<h1>Описание приложения:</h1>

!!!<h3>К сожалению API для этого приложения был закрыт</h3>
Ссылка на видео о работе приложения - https://drive.google.com/file/d/1JJGsc6k2v11JdM_EX3bjWQ40g3hl4Odc/view?usp=sharing

<h4>Приложение для оформления займов.</h4>
<ul>
    <li>Пользователь имеет возможность войти в приложение под своим логином и паролем. </li>
    <li>Так же он может зарегистрироваться если у него до этого не было аккаунта. </li>
    <li>С главной страницы приложения пользователь может перейти на экран займов или на экран с уже оформленным займами. </li>
    <li>На экране займов отображается информация о конкретном займе(макс.сумма, срок и процент). </li>
    <li>Пользователь может оформить заявку на займ и увидит всплывающее окно об успешном оформлении. </li>
    <li>Со страницы с уже  оформленными займами можно посмотреть информацию о каждом займе подробнее нажав на элемент списка. </li>
    <li>При нажатии на иконку в toolbar'е можно изменить тему на темную и вернуть назад.(При повторном открытии приложения будет светлая тема).</li>
</ul>


<h1>Структура приложения:</h1>

<p>Приложение построено с использованием clean architecture  и паттерна MVVM,<br> 
что позволяет легче ориентироватся в коде и тестировать его</p>

<dl>
    <dt>DI:</dt>
    <dd>Dagger2 - упрощенная работа с зависимостями (в будущем хочу попробовать обертку Hilt)</dd>
    <dt>Api:</dt>
    <dd>Retrofit - легче работать с api, подробная информация в логах</dd>
    <dt>Навигация:</dt>
    <dd>Android Navigation - вся моя навигация последовательная и это библиотека идеально подошла <br>
    + есть встроенная передача данных между фрагментами(safeArgs), что мне было необходимо <br>
    + легко добавить простенькую анимацию при переходах</dd>
    <dt>Асинхронность:</dt>
    <dd>Kotlin coroutines - особой причины нет, просто понравилось с ними работать, довольно просты в использовании.</dd>
    <dt>Хранение Bearer token:</dt>
    <dd>
        Изначально планировала использовать SharedPreferences, но потом вычитала про Jetpack DataStore <br>
        и остановилась на нем, т.к. в нем используются корутины как и у меня в приложении(нет необходимости в каких-то доп. зависимостях)
    </dd>
    <dt>Unit-tests:</dt>
    <dd>
        <ul>
            <li>Mockito - стандартная библиотека для unit-тестов</li>
            <li>mockito-inline - помогло избежать появления ошибки о том что UseCase-классы final</li>
            <li>kotlinx-coroutines-test - ExperimentalCoroutinesApi, предоставляет возможность установить Dispatchers.Main и помогает в тестировани корутин</li>
            <li>mockk и kotlinx-coroutines-core - так же для тестирования, корутин в частности помог мне отследить цепочку моих States</li>
        </ul>
        В unit-тестах тесты на получение Error и Success нужно делать поотдельности так как они перекрываютдруг друга.
    </dd>
    <dt>UI-tests:</dt>
    <dd>Стандартный набор: Kaspresso и Kakao - понятно и легко</dd>
</dl>


<h1>Компонентны приложения:</h1>

<h4>Activity</h4>
<dl>
    <dt>MainActivity</dt>
    <dd>Поверяет, если пользователь заходит 1ый раз - открывается AuthActivity, если повторно - LoanActivity</dd>
    <dt>AuthActivity</dt>
    <dd>Отвечает за навигацию* и отображение SignIn и SignUp фрагментов</dd>
    <dt>LoanActivity</dt>
    <dd>Отвечает за навигацию и отображение Main, GetLoan, AllLoans и LoanDetails фрагментов</dd>
    <dt>MenuActivity</dt>
    <dd>
        Находиться в папке view_option и содержит в себе меню для переключения между светлой и темной темами.<br>
        Помогает избежать дублирования кода в AuthActivity и LoanActivity
    </dd>
</dl>

<h4>Fragments</h4>
<p>Получают информацию о состоянии(BaseStates) от своей viewModel и выводят необходимые данные на экран</p>
<dl>
    <dt>SignIn / SignUp</dt>
    <dd>
        Вход/Регистрация, отображают текст ошибки - если поля не заполнены, пользователь не найден/такой пользователь уже существует.<br>
        При удачном входе token сохраняется в data store.
    </dd>
    <dt>Main</dt>
    <dd>
        При переходе на страницу  "Оформить займ" передает данные в safe args, которые получает из loanConditionApi через viewModel.
        При переходе на страницу  "Мои займы" так же передает список с займами.
    </dd>
    <dt>GetLoan</dt>
    <dd>
        Оформление займа, текст ошибки - если поля не заполнены или сумма займа выше максимальной. <br>
        Во избежание ошибок в поля "Сумма" и "Номер телефона" можно ввести только цифры.
    </dd>
    <dt>AllLoans</dt>
    <dd>
        Использует RecyclerView и Adapter для отображения списка займов. Если займов пока нет - будет уведомляющая об этом строка.
        При нажатии на элемент передает данные о займе на страницу деталей в safe args, которые получает из LoanByIdApi через viewModel.
    </dd>
    <dt>LoanDetails</dt>
    <dd>
        В зависимости от статуса займа отображает свое изображение и более подробное описание займа.
    </dd>
</dl>



